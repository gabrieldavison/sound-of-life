<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Conway's Game of Life</title>
    <link rel="stylesheet" href="/styles/normalize.css" />
    <link rel="stylesheet" href="./styles/index.css" />
  </head>
  <body>
    <div class="more-info-modal hidden">
      <div class="close-button-container">
        <button id="close-modal-button">Close</button>
      </div>
      <p>
        Sound of Life is a musical interpretation of
        <a href="http://https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"
          >Conway's Game of Life</a
        >
        . A simplified explanation of the game is that a board consists of a
        number of 'cells'. These cells are either alive or dead. Each round the
        state of a cell is decided by three simple rules.
      </p>

      <ol>
        <li>
          Any living cell with two or three living neighbours stays alive.
        </li>
        <li>Any dead cell with three live neighbours comes to life.</li>
        <li>
          Any live cell with less than 2 living neighbours or more than three
          living neighbours dies.
        </li>
      </ol>

      <p>
        You can watch this unfold by clicking the Start Game button. The board
        has been pre-populated with a randomized selection of living and dead
        cells. You can change the speed at which the game progresses using the
        controls at the top.
      </p>

      <p>
        Clicking Start Sound at the bottom of the screen will start a sequencer
        that plays back different notes depending on the number of living cells
        in each section of the board. For more information on how this works see
        the README on this projects
        <a href="https://github.com/gabrieldavison/sound-of-life"
          >Github Page</a
        >
        .
      </p>

      <p>
        You can show/hide the synthesizers controls using the button at the top
        of the page. These controls change the timbre and character of the
        sound. All the audio is produced using a simple FM Synthesizer running
        into a delay effect.
      </p>

      <p>
        For more information/source code check out the
        <a href="https://github.com/gabrieldavison/sound-of-life">Github Page</a
        >.
      </p>
    </div>
    <div class="content">
      <header>
        <div class="more-info-container">
          <button id="more-info-button">More Info</button>
        </div>
        <pre>
   _____                       _    ____   __   _      _  __     
  / ____|                     | |  / __ \ / _| | |    (_)/ _|    
 | (___   ___  _   _ _ __   __| | | |  | | |_  | |     _| |_ ___ 
  \___ \ / _ \| | | | '_ \ / _` | | |  | |  _| | |    | |  _/ _ \
  ____) | (_) | |_| | | | | (_| | | |__| | |   | |____| | ||  __/
 |_____/ \___/ \__,_|_| |_|\__,_|  \____/|_|   |______|_|_| \___|
                                                                 

</pre
        >
      </header>

      <div class="game-wrapper">
        <div class="game-container">
          <div class="controls-wrapper"></div>
          <div class="game-controls">
            <button id="start-button">Start Game</button>
            <button id="stop-button" class="">Stop</button>
            <button id="clear-button">Clear</button>
            <button id="randomize-button">Randomize</button>
            <label for="game-speed">Game Speed</label>
            <input type="number" id="game-speed" placeholder="Speed" min="10" />
            <button id="control-button">Show/Hide Sound Controls</button>
          </div>
          <div class="game-board">
            <div class="synthesizer-container hidden" id="synth-container">
              <div class="synthesizer-controls">
                <div class="control-wrapper">
                  <label class="vertical-label" for="attack">Attack</label>
                  <input
                    id="attack"
                    type="range"
                    min="0"
                    max="1"
                    step="0.1"
                    orient="vertical"
                  />
                </div>
                <div class="control-wrapper">
                  <label class="vertical-label" for="release">Release</label>
                  <input
                    id="release"
                    type="range"
                    min="0.01"
                    max="2"
                    step="0.1"
                    orient="vertical"
                  />
                </div>
                <div class="control-wrapper">
                  <label class="vertical-label" for="harmonicity"
                    >Harmonicity</label
                  ><input
                    id="harmonicity"
                    type="range"
                    min="0.5"
                    max="12"
                    step="0.5"
                    orient="vertical"
                  />
                </div>
                <div class="control-wrapper">
                  <label class="vertical-label" for="mod-index"
                    >Modualtion Index</label
                  ><input
                    id="mod-index"
                    type="range"
                    min="0"
                    max="200"
                    step="1"
                    orient="vertical"
                  />
                </div>

                <div class="control-wrapper">
                  <label class="vertical-label" for="delay-time"
                    >Delay Time</label
                  >
                  <input
                    id="delay-time"
                    type="range"
                    min="0"
                    max="1"
                    step="0.1"
                    orient="vertical"
                  />
                </div>
                <div class="control-wrapper">
                  <label class="vertical-label" for="feedback">Feedback</label>
                  <input
                    id="feedback"
                    type="range"
                    min="0"
                    max="1"
                    step="0.1"
                    orient="vertical"
                  />
                </div>
              </div>
            </div>

            <canvas id="game-canvas" class="game-canvas"></canvas>
          </div>
        </div>
        <div class="sequencer-container">
          <div class="canvas-wrapper">
            <canvas id="sequencer-canvas"></canvas>
          </div>
          <div class="sequencer-controls">
            <button id="start-seq">Start Sound</button>
            <button id="stop-seq">Stop Sound</button>
            <!-- <button id="start-audio">Start Audio</button> -->
            <label for="sequencer-speed">Sequencer Speed</label>
            <input
              type="number"
              id="sequencer-speed"
              placeholder="Speed"
              min="10"
            />
            <label for="scale">Scale</label>
            <select id="scale">
              <option value="0">Lydian</option>
              <option value="1">Major</option>
              <option value="2">Dorian</option>
              <option value="3">Hemitonic</option>
              <option value="4">Persian</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/nexusui@2.0.13/dist/NexusUI.js"></script>
    <script src="https://unpkg.com/tone@latest/build/Tone.js"></script>
    <script src="./scripts/script.js" type="module"></script>
  </body>
</html>
